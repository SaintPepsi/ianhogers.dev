---
// GalleryGroup.astro — a titled cluster within a collage gallery
// Contains CollageItem children. Groups flow horizontally within Gallery.
// Props:
//   title  — heading text (always displayed on top)
//   tilt   — group-level rotation in degrees for diagonal feel
//   align  — "start" | "center" | "end" for photo cluster alignment
interface Props {
  title: string;
  tilt?: number;
  align?: 'start' | 'center' | 'end';
  class?: string;
}
const { title, tilt, align = 'start', class: className = '' } = Astro.props;

const groupStyle = tilt ? `--gg-tilt: ${tilt}deg` : '';
---

<section
  class:list={['gallery-group', { 'gallery-group--tilted': tilt }, className]}
  style={groupStyle || undefined}
>
  <h3 class="gallery-group-title">{title}</h3>
  <div class:list={['gallery-group-items', `gallery-group-items--${align}`]}>
    <slot />
  </div>
</section>

<style>
  .gallery-group {
    flex: 0 1 auto;
    min-width: 0;
    padding: 0.5rem;
  }

  .gallery-group--tilted {
    transform: rotate(var(--gg-tilt, 0deg));
    transform-origin: center center;
  }

  .gallery-group-title {
    font-family: 'Weiholmir', cursive;
    color: var(--accent, #f59e0b);
    font-size: 1.4rem;
    margin: 0 0 0.75rem 0;
    padding-left: 0.5rem;
    border-left: 3px solid var(--accent, #f59e0b);
  }

  .gallery-group-items {
    display: flex;
    flex-wrap: wrap;
    align-items: flex-start;
    gap: 0;
    padding: 0.5rem 0;
  }

  .gallery-group-items--center {
    justify-content: center;
  }
  .gallery-group-items--end {
    justify-content: flex-end;
  }

  /* Reset MDX <p> wrappers if used inside MDX */
  .gallery-group-items :global(> p) {
    margin: 0;
    display: contents;
  }

  @media (max-width: 767px) {
    .gallery-group--tilted {
      transform: none;
    }
  }
</style>
